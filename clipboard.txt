# application.yml
spring:
  application:
    name: app

  # Puedes dejar tu datasource Oracle normal; NO se ejecutará DDL en BD
  # porque database.action=none (más abajo).
  datasource:
    driver-class-name: oracle.jdbc.OracleDriver
    url: ${DB_URL:jdbc:oracle:thin:@//localhost:1521/ORCLPDB1}
    username: ${DB_USER:app}
    password: ${DB_PASS:app}

  jpa:
    # Hibernate (Oracle 19c). En Hibernate 6, OracleDialect es lo habitual.
    database-platform: org.hibernate.dialect.OracleDialect

    # Evita que Hibernate intente crear/actualizar tablas por su cuenta
    hibernate:
      ddl-auto: none

    open-in-view: false
    show-sql: false

    properties:
      hibernate:
        format_sql: true

      # Generación de script DDL (JPA schema generation)
      jakarta:
        persistence:
          schema-generation:
            database:
              action: none
            scripts:
              action: create
              create-source: metadata
              create-target: target/schema-oracle-19c.sql

# Opcional: evita ruido en logs
logging:
  level:
    org.hibernate.SQL: OFF
    org.hibernate.tool.schema: OFF
